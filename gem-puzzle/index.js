(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=e((function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n(this,t),this.root=document.createElement(r),this.root.classList.add(e),this.root.textContent=o,this.root.href=i}));function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}const a=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(s,t);var e,n,o,r,a=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(o);if(r){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function s(){var t;i(this,s);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=a.call.apply(a,[this].concat(n))).movesCount=0,t.root.textContent="Moves: ".concat(t.movesCount),t}return e=s,(n=[{key:"updateText",value:function(){this.root.textContent="Moves: ".concat(this.movesCount)}},{key:"resetMoves",value:function(){this.movesCount=0,this.updateText()}},{key:"countMove",value:function(){this.movesCount+=1,this.updateText()}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(o))("dynamic-info","","span");function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}const b=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(l,t);var e,n,o,r,i=(o=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(o);if(r){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function l(){var t;p(this,l);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))).minutes="0",t.seconds="00",t.root.textContent="Time: ".concat(t.minutes,":").concat(t.seconds),t.interval=null,t}return e=l,(n=[{key:"startTimer",value:function(){var t=this;clearInterval(this.interval),this.minutes="0",this.seconds="00";var e=(new Date).getTime();this.interval=setInterval((function(){var n=((new Date).getTime()-e)/1e3,o=parseInt(n%60,10),r=parseInt(n/60%60,10);o<10&&(o="0".concat(o)),t.root.textContent="Time: ".concat(r,":").concat(o)}),1e3)}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(o))("dynamic-info","","span");function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function O(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(c,t);var e,n,r,i,l=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=j(r);if(i){var n=j(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return O(this,t)});function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;w(this,c);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P(x(t=l.call.apply(l,[this].concat(r))),"enableCells",(function(){t.top&&t.top.root.addEventListener("click",t.moveBottom),t.right&&t.right.root.addEventListener("click",t.moveLeft),t.bottom&&t.bottom.root.addEventListener("click",t.moveTop),t.left&&t.left.root.addEventListener("click",t.moveRight)})),P(x(t),"moveBottom",(function(e){t.cellWidth=getComputedStyle(t.emptyCell.root).width;var n=e;n.target.style.transform="translateY(".concat(t.cellWidth,")"),a.countMove(),t.disableCells(),setTimeout((function(){t.field[t.emptyCellIndex[0]-1][t.emptyCellIndex[1]]=new o("cell"),t.field[t.emptyCellIndex[0]][t.emptyCellIndex[1]]=new o("cell","".concat(n.target.textContent)),t.refreshField()}),500)})),P(x(t),"moveLeft",(function(e){t.cellWidth=getComputedStyle(t.emptyCell.root).width;var n=e;n.target.style.transform="translateX(-".concat(t.cellWidth,")"),a.countMove(),t.disableCells(),setTimeout((function(){t.field[t.emptyCellIndex[0]][t.emptyCellIndex[1]+1]=new o("cell"),t.field[t.emptyCellIndex[0]][t.emptyCellIndex[1]]=new o("cell","".concat(n.target.textContent)),t.refreshField()}),500)})),P(x(t),"moveTop",(function(e){t.cellWidth=getComputedStyle(t.emptyCell.root).width;var n=e;n.target.style.transform="translateY(-".concat(t.cellWidth,")"),a.countMove(),t.disableCells(),setTimeout((function(){t.field[t.emptyCellIndex[0]+1][t.emptyCellIndex[1]]=new o("cell"),t.field[t.emptyCellIndex[0]][t.emptyCellIndex[1]]=new o("cell","".concat(n.target.textContent)),t.refreshField()}),500)})),P(x(t),"moveRight",(function(e){t.cellWidth=getComputedStyle(t.emptyCell.root).width;var n=e;n.target.style.transform="translateX(".concat(t.cellWidth,")"),a.countMove(),t.disableCells(),setTimeout((function(){t.field[t.emptyCellIndex[0]][t.emptyCellIndex[1]-1]=new o("cell"),t.field[t.emptyCellIndex[0]][t.emptyCellIndex[1]]=new o("cell","".concat(n.target.textContent)),t.refreshField()}),500)})),t.winState=!1,t.fieldSize=e,t.range=Array.from(Array(t.fieldSize).keys(),(function(t){return t+1})),t.field=Array(Math.sqrt(t.fieldSize)).fill(null).map((function(){return Array(Math.sqrt(t.fieldSize)).fill(0)})),t.cellWidth="",t.emptyCell=null,t.emptyCellIndex=null,t.top=null,t.right=null,t.bottom=null,t.left=null,t}return e=c,n=[{key:"startGame",value:function(){a.resetMoves(),b.startTimer(),this.generateField()}},{key:"generateField",value:function(){this.root.innerHTML=null;for(var t=this.shuffle(),e=0,n=0;n<this.field.length;n+=1)for(var r=0;r<this.field[0].length;r+=1)t[e]===this.fieldSize?this.field[n][r]=new o("cell"):this.field[n][r]=new o("cell",t[e]),this.root.append(this.field[n][r].root),e+=1;this.makeCellsActive()}},{key:"refreshField",value:function(){this.root.innerHTML=null;for(var t=0;t<this.field.length;t+=1)for(var e=0;e<this.field[0].length;e+=1)this.root.append(this.field[t][e].root);this.makeCellsActive()}},{key:"makeCellsActive",value:function(){this.top=this.findActiveCell("top"),this.right=this.findActiveCell("right"),this.left=this.findActiveCell("left"),this.bottom=this.findActiveCell("bottom"),this.enableCells()}},{key:"disableCells",value:function(){this.top&&this.top.root.removeEventListener("click",this.moveBottom),this.right&&this.right.root.removeEventListener("click",this.moveLeft),this.bottom&&this.bottom.root.removeEventListener("click",this.moveTop),this.left&&this.left.root.removeEventListener("click",this.moveRight)}},{key:"findActiveCell",value:function(t){if(this.emptyCellIndex=this.returnEmptyCell(),this.emptyCell=this.field[this.emptyCellIndex[0]][this.emptyCellIndex[1]],"top"===t)try{return this.field[this.emptyCellIndex[0]-1][this.emptyCellIndex[1]]}catch(t){return null}if("right"===t)try{return this.field[this.emptyCellIndex[0]][this.emptyCellIndex[1]+1]}catch(t){return null}if("bottom"===t)try{return this.field[this.emptyCellIndex[0]+1][this.emptyCellIndex[1]]}catch(t){return null}if("left"===t)try{return this.field[this.emptyCellIndex[0]][this.emptyCellIndex[1]-1]}catch(t){return null}return null}},{key:"returnEmptyCell",value:function(){for(var t=0;t<this.field.length;t+=1)for(var e=0;e<this.field[0].length;e+=1)if(""===this.field[t][e].root.textContent)return[t,e];return null}},{key:"shuffle",value:function(){for(var t=Array.from(this.range),e=t.length-1;e>0;e-=1){var n=Math.floor(Math.random()*e),o=t[e];t[e]=t[n],t[n]=o}return t}}],n&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o);const I=new S(9,"game-container");function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function E(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var A=new o("buttons-container").root,L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(i,t);var e,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(n);if(o){var r=R(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return E(this,t)});function i(){var t;T(this,i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=r.call.apply(r,[this].concat(n))).root.addEventListener("click",(function(){I.startGame()})),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(o);[new o("button","Save","button").root,new L("button","Start","button").root,new o("button","Results","button").root].forEach((function(t){A.append(t)}));const M=A;var z=new o("game-info").root,B=[new o("moves-container").root,new o("time-container").root];B[0].append(a.root),B[1].append(b.root),z.append.apply(z,B);const W=z,F=new o("frame-size","Frame size: 3x3").root;for(var D=new o("other-sizes").root,q=new o("other-sizes-text","Other sizes:","span").root,G=[],H=3;H<=8;H+=1)G.push(new o("other-sizes-link","".concat(H,"x").concat(H),"a","#").root);D.append.apply(D,[q].concat(G));const X=D;var Y=new o("container").root;Y.append(M,W,I.root,F,X);const J=Y;document.querySelector(".wrapper").append(J)})();